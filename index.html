<!DOCTYPE html>
<html>
  <head>
    <title>SYNTRA AI Teste</title>
  </head>
  <body>
    <input id="userInput" type="text" placeholder="Digite aqui">
    <button id="sendBtn">Enviar</button>
    <div id="chatBox" style="margin-top:20px;"></div>

    <script>
      async function perguntarIA(textoUsuario) {
        const res = await fetch("/api/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: textoUsuario })
        });
        const data = await res.json();
        return data.reply;
      }

      document.getElementById("sendBtn").addEventListener("click", async () => {
        const msg = document.getElementById("userInput").value;
        if (!msg) return;
        const resposta = await perguntarIA(msg);
        document.getElementById("chatBox").innerText = resposta;
      });
    </script>
  </body>
</html>

